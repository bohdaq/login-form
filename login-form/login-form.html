<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/gold-email-input/gold-email-input.html">

<dom-module id="login-form">
    <style>
        paper-button {
            /*margin-left: 2.6em;*/
            margin-top: 1em;
            background-color: var(--paper-light-blue-500);
            color: #fff;
            text-align: center;
            float: right;
        }
        paper-input {
            --paper-input-container-focus-color: var(--paper-light-blue-500);
        }
        .card-content {
            width: 90%;
            margin:  0 auto;
        }
    </style>
    <template>
        <iron-ajax
                url="https://avocado-backend-v1.appspot.com/v1/lead/orgapikey/"
                method="POST"
                content-type="application/json"
                on-response="handleResponse">
        </iron-ajax>

        <paper-card>
            <div class="card-content">
                <div hidden$="[[isSucceeded]]">
                    <paper-input id="name" value="{{name}}" required error-message="Invalid input!" label="Your Name"></paper-input>
                    <gold-email-input
                            id="email"
                            value="{{email}}"
                            required
                            error-message="Invalid input!"
                            label="Your Contact Email">
                    </gold-email-input>
                    <paper-button on-tap="_signUp">Request Invite</paper-button>
                </div>
                <span hidden$="[[!isSucceeded]]">Thank you for your interest. Please check your email for the invitation.</span>
            </div>
        </paper-card>
    </template>
</dom-module>
<script src="login-form.js"></script>
